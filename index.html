<!doctype html>
<html lang="sv" class="h-full" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DailyFlow â€“ Vanor & Fokus</title>
    <meta name="description" content="En snygg, snabb vanetracker byggd fÃ¶r mobil â€“ direkt pÃ¥ webben." />
    <meta name="theme-color" content="#0B0B10" />
    <!-- Open Graph (delning) -->
    <meta property="og:title" content="DailyFlow â€“ Vanor & Fokus" />
    <meta property="og:description" content="SpÃ¥ra vanor enkelt. Snygg mobilupplevelse pÃ¥ webben." />
    <meta property="og:type" content="website" />

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”¥</text></svg>">

    <!-- Tailwind via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              bg: "#0B0B10",
              card: "#15151A",
              border: "#2A2A2F"
            },
            borderRadius: { '2xl': '1rem' }
          }
        }
      }
    </script>

    <style>
      html, body { height: 100%; }
      .safe { max-width: 420px; margin: 0 auto; }
      .card { background: rgba(21,21,26,.8); border: 1px solid #2A2A2F; border-radius: 16px; }
      .blurbar { backdrop-filter: saturate(120%) blur(8px); }
      /* Ljust tema (vÃ¤xlas via data-theme pÃ¥ <html>) */
      html[data-theme="light"] body { background: #ffffff; color: #111827; }
      html[data-theme="light"] .card { background: #ffffff; border-color: #e5e7eb; }
      html[data-theme="light"] .blurbar { backdrop-filter: saturate(120%) blur(8px); background: rgba(255,255,255,.8); }
    </style>
  </head>
  <body class="h-full bg-bg text-white">
    <div class="safe px-4 pb-28">
      <!-- Top bar -->
      <header class="sticky top-0 z-10 -mx-4 mb-4 bg-bg/80 blurbar">
        <div class="px-4 pt-6">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-sm text-zinc-400" id="weekday">Idag</p>
              <h1 class="text-2xl font-semibold tracking-tight">Hej, Alex ðŸ‘‹</h1>
            </div>
            <div class="flex items-center gap-2">
              <button class="p-2 rounded-2xl hover:bg-white/5" aria-label="PÃ¥minnelser">
                <i data-lucide="bell" class="w-5 h-5" aria-hidden="true"></i>
              </button>
              <button id="themeToggle" class="p-2 rounded-2xl hover:bg-white/5" aria-label="VÃ¤xla tema">
                <i data-lucide="sun" class="w-5 h-5" aria-hidden="true"></i>
              </button>
            </div>
          </div>
        </div>
      </header>

      <!-- Progress card -->
      <section class="mb-4">
        <div class="card">
          <div class="p-4 pb-2 flex items-center justify-between">
            <h2 class="text-lg font-medium">Din vecka</h2>
            <span class="inline-flex items-center gap-1 text-sm text-zinc-200 bg-zinc-800/60 px-2.5 py-1 rounded-xl">
              Streak <span class="inline-block"><i data-lucide="flame" class="w-4 h-4" aria-hidden="true"></i></span>
              <strong id="streak" class="ml-0.5">7</strong>
            </span>
          </div>
          <div class="p-4 pt-0">
            <canvas id="weekChart" height="120"></canvas>
            <p class="mt-3 text-sm text-zinc-400">Du ligger Ã¶ver din 4-veckorssnitt. Snyggt jobbat!</p>
          </div>
        </div>
      </section>

      <!-- Quick add -->
      <section class="mb-4">
        <div class="flex gap-2">
          <input id="newHabit" class="flex-1 card px-3 py-2 outline-none" placeholder="LÃ¤gg till vana (t.ex. Stretch 5 min)" />
          <button id="addBtn" class="px-3 py-2 rounded-2xl bg-indigo-600 hover:bg-indigo-500">LÃ¤gg till</button>
        </div>
      </section>

      <!-- Tabs -->
      <section class="mb-3">
        <div class="grid grid-cols-2 gap-2" role="tablist" aria-label="Visning">
          <button data-tab="today" class="tab-btn card py-2 text-center" role="tab" aria-selected="true">Idag</button>
          <button data-tab="all" class="tab-btn card py-2 text-center text-zinc-300" role="tab" aria-selected="false">Alla vanor</button>
        </div>

        <div id="tab-today" class="mt-3 space-y-3"></div>

        <div id="tab-all" class="mt-3 hidden">
          <div class="card p-4">
            <ul id="allList" class="space-y-3"></ul>
          </div>
        </div>
      </section>

      <!-- Nudge -->
      <section>
        <div class="card p-4 flex items-start justify-between">
          <div>
            <p class="text-sm text-zinc-300">PÃ¥ bana i <span id="streak2">7</span> dagar i rad</p>
            <p class="text-xs text-zinc-400">SchemalÃ¤gg en pÃ¥minnelse fÃ¶r att hÃ¥lla streaken vid liv.</p>
          </div>
          <button class="px-3 py-2 rounded-xl border border-zinc-700">Aktivera</button>
        </div>
      </section>
    </div>

    <!-- Bottom nav -->
    <nav class="fixed inset-x-0 bottom-0 z-20 safe border-t border-[#2A2A2F] bg-bg/80 blurbar">
      <div class="grid grid-cols-3 text-center">
        <button class="py-3 text-xs text-white flex flex-col items-center gap-1">
          <i data-lucide="list-checks" class="w-5 h-5" aria-hidden="true"></i>
          Uppgifter
        </button>
        <button class="py-3 text-xs text-zinc-400 flex flex-col items-center gap-1">
          <i data-lucide="bar-chart-2" class="w-5 h-5" aria-hidden="true"></i>
          Ã–versikt
        </button>
        <button class="py-3 text-xs text-zinc-400 flex flex-col items-center gap-1">
          <i data-lucide="user" class="w-5 h-5" aria-hidden="true"></i>
          Profil
        </button>
      </div>
    </nav>

    <!-- Externa script (defer fÃ¶r snabbare laddning) -->
    <script src="https://unpkg.com/lucide@latest" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <script src="./assets/app.js" defer></script>
  </body>
</html>
